<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../docs-assets/ico/favicon.png">

    <title>okoniewskid - Algorytmy i struktury danych </title>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap.css" rel="stylesheet">


    <!-- Custom styles for this template -->
    <link href="assets/css/main.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="assets/js/hover.zoom.js"></script>
    <script src="assets/js/hover.zoom.conf.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- Static navbar -->
    <div class="navbar navbar-inverse navbar-static-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">okoniewskid</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
      <!--  <li><a href="work.html">Work</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="blog.html">Blog</a></li>
            <li><a href="contact.html">Contact</a></li> -->
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
	
	
	<!-- +++++ Projects Section +++++ -->
	<div class="container-fluid">
		<div class="row">
		<div class="col-md-12">
				<div class="col-lg-6 col-lg-offset-3 centered">
					<h3>Algorytmy i struktury danych</h3>
					<hr>
					<p></p>
				</div>
		</div>
		</div>
	</div>
	<div class="container-fluid pt">
		<div class="row">
			<div class="col-md-1"></div>
			<div class="col-md-2" id="leftCol"> 
				<div class="well"> 
              	<ul class="nav nav-stacked" id="sidebar">
				  <li><a data-toggle="tab" href="#home">Home</a></li>
                  <li><a data-toggle="tab" href="#menu1">B-drzewa</a></li>
                  <li><a data-toggle="tab" href="#menu2">Menu 2</a></li>
                  <li><a data-toggle="tab" href="#menu3">Menu 3</a></li>
              	</ul>
  				</div>
			</div>  
			
			<div class="col-md-8">	
				<div class="tab-content">
					<div id="home" class="tab-pane fade in active">
						<h3>HOME</h3>
						<p>W tym dziale znajdują się wszelkie zadania z algorytmów wraz z opisami i kodem źródłowym. Kolejne będą dodawane w miarę aktualnie z przebiegiem zajęć. Pytania do zadań i prośby do kodów zadań które się tu nie znajdują najlepiej kierować poprzez github.
						<br><a href="https://github.com/okoniewskid/Algorytmy_i_struktury_danych">Kody źródłowe</a>
						<br><a href="http://syedwaqarahmad.webs.com/documents/t._cormen_-_introduction_to_algorithms_3rd_edition.pdf" target="_blank">Książka Cormena</a></p>
					</div>
					<div id="menu1" class="tab-pane fade">
						<h3>B-drzewa</h3>
						
							Początek programu i definicja struktury.
							<code>
							<pre>
#include <stdio.h> 
#define T 3
  
int OstatniW;
 
typedef struct{ 
	int pozycja;        
	short n;        	 
	short lisc;     	
	int k[2*T-1];   	
	int c[2*T];     
	int info[2*T-1];  
} Wezel; 
 
int rozmiarw = sizeof(Wezel); 
FILE *drzewo;
							</pre>
							</code>
							Funkcje zapisu, odczytu i usuwania.
							<code>
							<pre>
void ZAPIS(int i,Wezel *w){ 
	fseek(drzewo,(long)i*rozmiarw,SEEK_SET); 
	fwrite(w,rozmiarw,1,drzewo); 
} 
  
void ODCZYT(int i,Wezel *w){ 
	fseek(drzewo,(long)i*rozmiarw,SEEK_SET); 
	fread(w,rozmiarw,1,drzewo); 
}
  
void USUWANIE(int i){  
	Wezel w; 
	ODCZYT(i,&w); 
	w.n=-1; 
	ZAPIS(i,&w); 
} 
							</pre>
							</code>
							Funkcja budująca B-drzewo.
							<code>
							<pre>
int BUDOWANIE(int g, int n){ 
	static int klucz = 0;
	static int pozycja = 0; 
	Wezel w;
	w.n=n;
	int i;
	if(g==0){
    	for(i=0;i < n;i++){ 
    	w.c[i]= -1; 
    	w.k[i]= klucz++; 
    	} 
    	w.c[n]= -1; 
    	w.lisc=1; 
  	}
	else{ 
    	for(i=0;i < n;i++){ 
      		w.c[i]= BUDOWANIE(g-1,n); 
      		w.k[i]= klucz++; 
    	} 
    	w.c[n]= BUDOWANIE(g-1,n);; 
    	w.lisc=0; 
  	}
  	w.pozycja=pozycja; 
  	ZAPIS(pozycja++,&w); 
  	OstatniW= pozycja -1; 
  	return pozycja-1; 
} 
							</pre>
							</code> 
							Funkcje szukania.
							<code>
							<pre>
int SZUKANIE(int korzen, int key){
	Wezel x; 
	int i, pom;
	ODCZYT(korzen,&x); 
	i = 0; 
	while(i < x.n && key>x.k[i]){ 
    	i++;  
	} 
	if(i<=x.n && key==x.k[i]){ 
    	pom = 100*x.pozycja + i; 
    	return pom; 
	}     
	if(x.lisc == 1) return -1;  
	else SZUKANIE(x.c[i], key);    
}    
  
void ZNAJDZ(int korzen, int key ){ 
	int gdzieW, miejsceK, wynik; 
	wynik=SZUKANIE(korzen, key);   
	if(wynik==-1) printf("\nnie znaleziono klucza: %d\n", key); 
	else{ 
    	gdzieW = wynik / 100; 
    	miejsceK = wynik % 100; 
    	printf("\nznaleziono klucz %d:\n -miejsce w pliku wezla z kluczem: %d \n -pozycja klucza w wezle: %d \n", key, gdzieW, miejsceK+1); 
 	}   
}
							</pre>
							</code>
							<!--miejsce na opis -->
							<code>
							<pre>
void rozbijanie_syna(int x_id, int i, int y_id){
	Wezel z, x, y; 
	int j; 
	ODCZYT(x_id,&x); 
	ODCZYT(y_id,&y); 
	z.lisc=y.lisc; 
	z.n = T-1; 
	for(j=1; j<=T-1; j++) z.k[j-1]= y.k[j+T-1]; 
	if(y.lisc == 0 ){ 
    	for(j=1; j<=T; j++) z.c[j-1]=y.c[j+T-1];
	}
	y.n = T-1; 
	for(j=x.n+1; j>=i+1; j--) x.c[j]=x.c[j-1]; 
	x.c[i]=OstatniW+1; 
	for(j=x.n; j>=i; j--) x.k[j]=x.k[j-1]; 
	x.k[i-1]=y.k[T-1]; 
	x.n++; 
	ZAPIS(y_id,&y); 
	ZAPIS(OstatniW+1,&z); 
	OstatniW++; 
	ZAPIS(x_id,&x); 
} 							
							</pre>
							</code>
							<!--miejsce na opis -->
							<code>
							<pre>
void W_NIEPELNY(int korzen, int key){
	Wezel x, w; 
	int i;  
	ODCZYT(korzen,&x); 
	i=x.n; 
	if(x.lisc==1){ 
    	while (i>=1 && key < x.k[i-1]){ 
        	x.k[i]=x.k[i-1]; 
        	i--; 
    	}    
    	x.k[i]=key; 
    	x.n++; 
    	ZAPIS( korzen, &x); 
	} 
	else{ 
    	while (i>=1 && key < x.k[i-1]) i--; 
    	i++; 
    	ODCZYT(x.c[i-1],&w); 
    	if(w.n == (short) 2*T-1){ 
        	rozbijanie_syna(korzen, i, x.c[i-1]); 
        	if(key>x.k[i-1]) i++;    
    	}    
    	W_NIEPELNY( x.c[i-1], key); 
 	}       
} 							
							</pre>
							</code>
							<!--miejsce na opis -->
							<code>
							<pre>
int WSTAWIANIE(int korzen, int key){
	Wezel r;  
	int pom, s_id, tmp;   
	pom=0;   
	ODCZYT(korzen, &r); 
	if(r.n == 2*T-1 ){ 
    	Wezel s; 
    	s_id=OstatniW+1; 
    	OstatniW++; 
    	pom=s_id; 
    	s.lisc=0; 
    	s.n=0; 
    	s.c[0]=korzen; 
    	ZAPIS(s_id, &s); 
    	rozbijanie_syna(s_id, 1, korzen); 
    	W_NIEPELNY(s_id, key); 
	}    
	else W_NIEPELNY(korzen, key); 
	if(pom == 0 ) return korzen; 
	else return pom;   
}							
							</pre>
							</code>
							<!--miejsce na opis -->
							<code>
							<pre>
void drukujB(int r, int p){ 
  // drukuje B-drzewo o korzeniu r (pozycja w pliku) 
  // wydruk przesuniety o p w prawo 
	Wezel w; 
  	int i,j; 
  	ODCZYT(r,&w); 
	if(w.lisc){ 
    	for(i=0;i < p;i++) printf(" "); 
    	for(i=0;i < w.n;i++) printf("%d ",w.k[i]); 
    	printf("\n"); 
	} 
	else{ 
	    drukujB(w.c[w.n],p+4); 
    	for(i=w.n-1;i>=0;i--){ 
      		for(j=0;j < p;j++) printf(" "); 
      		printf("%d\n",w.k[i]); 
      		drukujB(w.c[i],p+4); 
    	} 
  	} 
} 
  
void drukujBDot(int r){ 
	FILE *plikwy; 
	plikwy=fopen("bdrzewo.gv","w"); 
	fprintf(plikwy, "graph bdrzewo{\n"); 
	fprintf(plikwy, "size = \"2,20\""); 
	rekDrukujBDot(r,0,plikwy); 
	fprintf(plikwy, "}\n"); 
	fclose(plikwy); 
	printf("utworzony plik bdrzewo.gv"); 
} 

int rekDrukujBDot(int r, int z, FILE *plikwy){  
	Wezel w; 
	int nz,i; 
	ODCZYT(r,&w);  
  	fprintf(plikwy,"%d [shape=box, label=\"",z); 
  	for (i=0;i < w.n;i++) fprintf(plikwy,"%d ",w.k[i]); 
  	fprintf(plikwy,"\"]\n"); 
  	nz=z; 
	if (!w.lisc){ 
		for (i=0;i<=w.n;i++){ 
			fprintf(plikwy,"%d -- %d ;\n",z,nz+1); 
      		nz=rekDrukujBDot(w.c[i],nz+1,plikwy);   
    	}	 
  	} 
  	return nz; 
} 							
							</pre>
							</code>
							Funkcja główna programu.
							<code>
							<pre>
int main(){
	drzewo = fopen("bdrzewo","w+"); 
    int korzen, add;
    OstatniW=0; 
    korzen=BUDOWANIE(2,2); 
    printf("\n"); 
    ZNAJDZ(korzen, 15); 
    ZNAJDZ(korzen, 18); 
    ZNAJDZ(korzen, 86); 
    drukujB(korzen,0); 
    printf("\n \n"); 
    add=WSTAWIANIE(korzen, 12); 
	drukujB(korzen,0); 
	printf("\n \n");
    korzen=add; 
    add=WSTAWIANIE(korzen, 22); 
	drukujB(korzen,0);
	printf("\n \n"); 
    korzen=add; 
    add=WSTAWIANIE(korzen, 20); 
	drukujB(korzen,0);
	printf("\n \n"); 
    korzen=add; 
    add=WSTAWIANIE(korzen, 19); 
	drukujB(korzen,0);
	printf("\n \n"); 
    korzen=add; 
    drukujB(korzen,0);
	printf("\n \n"); 
    drukujBDot(korzen); 
    fclose(drzewo); 
    return 0; 
} 							
							</pre>
							</code>
					</div>
					<div id="menu2" class="tab-pane fade">
						<h3>Menu 2</h3>
						<p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam.</p>
					</div>
					<div id="menu3" class="tab-pane fade">
						<h3>Menu 3</h3>
						<p>Eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
					</div>
				</div>
			</div><!-- /row -->
			<div class="col-md-1"></div>
		</div><!-- /container -->
   </div>
	
	<!-- +++++ Footer Section +++++ -->
	
	<div id="footer">
		<div class="container">
			<div class="row">
				
				<div class="col-lg-4">
					<h4>Moje linki</h4>
					<p>
						<a href="https://github.com/okoniewskid">Github</a><br/>
						<a href="https://www.facebook.com/WaszaKwasowatosc">Facebook</a>
					</p>
				</div><!-- /col-lg-4 -->
				
				<div class="col-lg-4">
					<h4></h4>
					<p>
					</p>
				</div><!-- /col-lg-4 -->
				
				<div class="col-lg-4">
					<h4>O mnie</h4>
					<p>Student II roku informatyki Uniwersytetu Gdańskiego</p>
				</div><!-- /col-lg-4 -->
			
			</div>
		
		</div>
	</div>
	

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="assets/js/bootstrap.min.js"></script>
  </body>
</html>
